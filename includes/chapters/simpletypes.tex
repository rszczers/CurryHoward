\section{Typy proste w stylu Churcha}

\subsection{Język}

\begin{definicja}$ $\newline
\begin{itemize}
\item
  \emph{Typami prostymi} \(\mathrm{T}\) nazywamy zbiór \(\Phi_{\to}\) wszystkich formuł języka logiki NJ(\(\to\)). 
    Zamiast mówić o zmiennych zdaniowych, będziemy używali określenia \emph{zmienne typowe}.

\begin{konwencja*}$ $\newline 
  \begin{enumerate}
    \item Zamiast \(\mathrm{p'},\, \mathrm{p''},\, \mathrm{p'''},\, \dots\) używamy kolejno liter \(\mathrm{p},\, \mathrm{q},\, \mathrm{r},\, \dots\)
    \item Zmienne metasyntaktyczne oznaczamy późniejszymi literami greckiego alfabetu, tj. \(\sigma,\, \tau,\, \rho\,\dots\)
    \item ,,\(\rightarrow\)'' jest łączna w prawo.
    \item Pomijamy najbardziej zewnętrzne nawiasy.
  \end{enumerate}
\end{konwencja*}

\item
  \emph{Pseudotermami} nazywamy język \(\Lambda_{\mathrm{T}}\) generowany przez
gramatykę 
\[
  \Lambda_{\mathrm{T}} := \ \mathrm{V}\ | \ \left (\lambda V^{\mathrm{T}} . \Lambda_{\mathrm{T}}\right) \ | \ \left (\Lambda_{\mathrm{T}}\Lambda_{\mathrm{T}}\right)
\]
    gdzie V to przeliczalny zbiór \(\lambda\)-zmiennych \(x, y, \dots\)
    
    W języku podmiotowym będziemy używali późniejszych liter alfabetu łacińskiego (M, N, O, …) oznaczając pseudotermy.
  \item \emph{Otoczeniem typowym} nazywamy skończoną funkcję częściową \(\Gamma:\:\mathrm{V}\to\mathrm{T}\) przeprowadzającą zbiór \(\lambda\)-zmiennych w zbiór typów prostych. Nadużywając notacji piszemy
    \begin{itemize}
      \item \(\Gamma=\{x_1\,:\,\tau_1,\,\dots,\,x_n\,:\,\tau_n\}\)
      \item \(\mathrm{dom}(\Gamma) = \left\{x\in \mathrm{V}\,|\:\exists\tau.\,(x\,:\,\tau)\in\Gamma\right\}\)
      \item \(\mathrm{rg}(\Gamma)=\left\{\tau\in\Phi_{\to}\,|\,\exists x.\,(x\,:\,\tau)\in\Gamma\right\}\)
    \end{itemize}

  \item Dla pseudotermu \(M\) następująco określamy zbiór \emph{termów wolnych} \(\mathrm{FV}\):
    \begin{align*}
      \mathrm{FV}(x) &= \{x\}\\
      \mathrm{FV}(\lambda x^\sigma .\, P)  &= \mathrm{FV}(P)\setminus\{x\}\\
      \mathrm{FV}(P Q) &= \mathrm{FV}(P)\cup\mathrm{FV}(Q)
    \end{align*}

\item \emph{Podstawieniem} pseudotermu \(N\) za \(\lambda\)-zmienną \(x\) w \(M\) nazwamy zdefiniowane następująco przekształcenie:
  \begin{align*}
    x[x/N] &= N,\\
    y[x/N] &= y,\ &\text{o ile}\ x\neq y,\\
    (PQ)[x/N] &= P[x/N]\,Q[x/N],\\
    (\lambda y^\sigma.\, P)[x/N] &= \lambda y^\sigma .\,P[x/N],\ &\text{gdzie}\ x\neq y\ \text{i}\ y\not\in \mathrm{FV}(N).\\
  \end{align*}
 
%  \item Podstawieniem pseudotermu \(N\) za \(\lambda\)-zmienną \(x\) w pseudotermie \(M\), symbolicznie \(M[x/N]\), nazywamy przekształcenie pseudotermu zadane następującymi warunkami:
%    \begin{enumerate}[label=({\alph*})]
%    \item Podstawienie jest poprawne wtedy i tylko wtedy, gdy żadne wolne wystąpienie \(\lambda\)-zmiennej \(x\) w pseudotermie \(M\) nie występuje w podtermie \(M\) postaci \(\lambda y.\, L\), gdzie \(y\in\mathrm{FV}(N)\).
%    \item
%      \begin{align*}
%        x[x/N] &= N,&\\
%        y[x/N] &= y,\ &\text{o ile}\ x\neq y,&\\
%        (PQ)[x/N] &= P[x/N]\,Q[x/N],&\\
%        (\lambda x.\,P)[x/N] &= \lambda x.\,P,&\\
%        (\lambda y.\,P)[x/N] &= \lambda y.\,P [x/N],\ &\text{o ile}\ x\neq y.
%      \end{align*}
%    \end{enumerate}

\item \emph{\(\alpha\)-konwersją} \(=_\alpha\) nazywamy najmniejszą w sensie mnogościowym relację zwrotną i przechodnią określoną na zbiorze przeudotermów \(\Lambda_{\mathrm{T}}\) spełniającą poniższe warunki:
    \begin{enumerate}[label=({\alph*})]
      \item Jeśli \(y\not\in \mathrm{FV}(M)\) i \(M[x/y]\) jest poprawnym podstawieniem, to \(\lambda x.\, M  =_\alpha \lambda y.\, M[x/y]\).
      \item Jeśli \(M=_\alpha N\), to dla każdej \(\lambda\)-zmiennej \(x\) mamy \(\lambda x.\, M =_\alpha \lambda x.\,N\).
      \item Jeśli \(M=_\alpha N\), to \(M Z=_\alpha N Z\).
      \item Jeśli \(M=_\alpha N\), to \(ZM =_\alpha ZN\).
    \end{enumerate}
\item
    \emph{Sądem} (\emph{asercją}) nazywamy każdą trójkę \((\Gamma ,\,M,\,\sigma )\in\mathcal{P}(\mathrm{V}\times \mathrm{T})\times\Lambda_{\mathrm{T}}\times\mathrm{T}\), gdzie \(\Gamma\) jest otoczeniem typowym i oznaczamy \(\Gamma\vdash M^{\sigma}\).

  Piszemy: \begin{itemize}
    \item \(\varphi_{1},\ \varphi_{2}\vdash\psi\) zamiast \(\{\varphi_{1},\ \varphi_{2}\}\vdash\psi\),
    \item \(\Gamma, x^\varphi\) zamiast \(\Gamma\cup \{x^\varphi\}\), o ile \(x^\varphi\not\in \Gamma\).
    \item \(\Gamma, \Delta\) zamiast \(\{\Gamma\cup \Delta\}\), o ile \(\Gamma\cap\Delta=\emptyset\).
    \item \(\vdash\varphi\) zamiast \(\emptyset\vdash\varphi\).
  \end{itemize}

\item
  Na zbiorze sądów wprowadzamy relacje określające reguły wyprowadzania termów
    \begin{center}
    \begin{tabular}{ cc}
      {\begin{prooftree}
        \Hypo{ \Gamma, x^{\varphi} \vdash M^{\psi} }
        \Infer1[(Abs)]{\Gamma \vdash (\lambda\, x^{\varphi}.\, M)^{\varphi\to\psi}}
      \end{prooftree}},
      &
      {\begin{prooftree}
        \Hypo{\Gamma \vdash M^{\varphi \to \psi}} \Hypo{ \Gamma \vdash N^{\varphi}}
        \Infer2[(App)]{\Gamma \vdash (MN)^{\psi}}
      \end{prooftree}}.
      \end{tabular}
    \end{center}
    oraz wybieramy spośród sądów jeden aksjomat postaci \(\Gamma, x^\tau\vdash x^\tau\ (\mathrm{Var})\).

    Dowód sądu określamy analogicznie jak w logince NJ(\(\to\)).

Mówimy, że \(M\) jest \emph{termem} typu \(\tau\) w otoczeniu \(\Gamma\), jeśli istnieje dowód sądu \(\Gamma \vdash M^{\tau}\) w powyższym systemie dedukcyjnym.

 
\end{itemize}
\end{definicja}

